/* ===== CORRECCIONES ESPECÍFICAS PARA MÓVILES ===== */
/* Solución para iPhone XS Pro Max y dispositivos similares */

/* ===== VIEWPORT Y CONFIGURACIÓN BASE ===== */
html {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    text-size-adjust: 100%;
}

body {
    -webkit-overflow-scrolling: touch;
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100vw !important;
}

/* ===== CORRECCIONES PARA HEADER EN MÓVILES ===== */
@media screen and (max-width: 414px) {
    /* iPhone XS Pro Max: 414px */
    .header {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        z-index: 1030 !important;
        background: rgba(255, 255, 255, 0.98) !important;
        backdrop-filter: blur(20px) !important;
        border-bottom: 1px solid #e8eaed !important;
    }

    .navbar {
        padding: 0.75rem 0 !important;
        width: 100% !important;
    }

    .nav-container {
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        padding: 0 1rem !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        gap: 0.5rem !important;
    }

    /* Logo optimizado para móvil */
    .logo {
        display: flex !important;
        align-items: center !important;
        gap: 0.5rem !important;
        flex-shrink: 0 !important;
        max-width: 60% !important;
    }

    .logo-image {
        width: 35px !important;
        height: 35px !important;
        flex-shrink: 0 !important;
    }

    .logo-text {
        display: flex !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        line-height: 1 !important;
    }

    .logo-text h2 {
        font-size: 0.85rem !important;
        font-weight: 700 !important;
        margin: 0 !important;
        line-height: 1 !important;
        white-space: nowrap !important;
    }

    .logo-text span {
        font-size: 0.55rem !important;
        margin-top: 0.1rem !important;
        line-height: 1 !important;
        white-space: nowrap !important;
    }

    /* Ocultar menú desktop y enlaces sociales */
    .nav-menu {
        display: none !important;
    }

    .social-links {
        display: none !important;
    }

    /* Hamburger optimizado */
    .hamburger {
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        width: 44px !important;
        height: 44px !important;
        padding: 8px !important;
        cursor: pointer !important;
        z-index: 1001 !important;
        flex-shrink: 0 !important;
    }

    .hamburger span {
        display: block !important;
        width: 20px !important;
        height: 2px !important;
        background: #1C2526 !important;
        margin: 2px 0 !important;
        transition: all 0.3s ease !important;
        border-radius: 1px !important;
    }
}

/* ===== CORRECCIONES PARA CONTENIDO PRINCIPAL ===== */
@media screen and (max-width: 414px) {
    /* Ajustar padding-top para compensar header fijo */
    .hero,
    .gallery-hero,
    .main-gallery,
    .contact,
    .team {
        padding-top: 80px !important;
    }

    /* Hero section responsive - CORRECCIÓN COMPLETA */
    .hero.gallery-hero {
        min-height: 100vh !important;
        padding: 80px 0 2rem 0 !important;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%) !important;
        position: relative !important;
        display: flex !important;
        align-items: center !important;
        overflow: hidden !important;
    }

    /* Fondo del hero */
    .hero.gallery-hero .hero-background {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        background-image: url('https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') !important;
        background-size: cover !important;
        background-position: center !important;
        background-attachment: scroll !important; /* Cambiar de fixed a scroll para móvil */
        z-index: 1 !important;
    }

    /* Overlay del hero */
    .hero.gallery-hero .hero-overlay {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        background: linear-gradient(135deg, rgba(26, 26, 46, 0.9) 0%, rgba(22, 33, 62, 0.8) 50%, rgba(15, 52, 96, 0.9) 100%) !important;
        z-index: 2 !important;
    }

    /* Contenido del hero */
    .hero.gallery-hero .hero-content {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        text-align: center !important;
        padding: 2rem 1rem !important;
        gap: 2rem !important;
        max-width: 100% !important;
        margin: 0 auto !important;
        position: relative !important;
        z-index: 3 !important;
        color: white !important;
        min-height: 60vh !important;
        justify-content: center !important;
    }

    /* Imagen del arquitecto */
    .hero.gallery-hero .hero-image {
        order: 1 !important;
        margin: 0 !important;
        width: 100% !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        gap: 1rem !important;
        flex-shrink: 0 !important;
    }

    .hero.gallery-hero .image-placeholder {
        width: 280px !important;
        height: 320px !important;
        margin: 0 auto !important;
        background: rgba(255, 255, 255, 0.1) !important;
        backdrop-filter: blur(20px) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
        border-radius: 20px !important;
        padding: 15px !important;
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2) !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        position: relative !important;
        overflow: hidden !important;
    }

    .hero.gallery-hero .architect-image {
        width: 250px !important;
        height: 290px !important;
        border-radius: 16px !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
        object-fit: cover !important;
        object-position: center top !important;
        display: block !important;
        margin-top: 2px !important;
        border: none !important;
    }

    .hero.gallery-hero .floating-badges {
        position: static !important;
        display: flex !important;
        flex-direction: row !important;
        justify-content: center !important;
        gap: 0.5rem !important;
        margin-top: 1rem !important;
        flex-wrap: wrap !important;
    }

    /* Texto del hero */
    .hero.gallery-hero .hero-text {
        order: 2 !important;
        margin: 0 !important;
        padding: 0 !important;
        max-width: 100% !important;
        color: white !important;
        text-align: center !important;
    }

    /* Títulos responsive */
    .hero.gallery-hero .hero-text h1 {
        font-size: 1.4rem !important;
        margin-bottom: 1rem !important;
        padding: 0.5rem 0.75rem !important;
        color: white !important;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5) !important;
        background: linear-gradient(135deg, rgba(163, 191, 250, 0.15), rgba(124, 157, 247, 0.25)) !important;
        border-radius: 0.5rem !important;
        border: 2px solid rgba(163, 191, 250, 0.3) !important;
        backdrop-filter: blur(20px) !important;
        display: inline-block !important;
    }

    .hero.gallery-hero .hero-subtitle-main {
        font-size: 1.1rem !important;
        margin-bottom: 1rem !important;
        color: white !important;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4) !important;
        line-height: 1.3 !important;
    }

    .hero.gallery-hero .hero-text p {
        font-size: 0.9rem !important;
        line-height: 1.5 !important;
        margin-bottom: 1.5rem !important;
        color: rgba(255, 255, 255, 0.9) !important;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3) !important;
        max-width: 100% !important;
    }

    /* Botones del hero */
    .hero.gallery-hero .hero-buttons {
        display: flex !important;
        flex-direction: column !important;
        gap: 1rem !important;
        align-items: center !important;
        width: 100% !important;
        margin-top: 1.5rem !important;
    }

    .hero.gallery-hero .btn {
        width: 100% !important;
        max-width: 280px !important;
        text-align: center !important;
        justify-content: center !important;
        padding: 1rem 1.5rem !important;
        font-size: 1rem !important;
        border-radius: 1rem !important;
        position: relative !important;
        z-index: 4 !important;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2) !important;
        border: 2px solid transparent !important;
        font-weight: 600 !important;
        transition: all 0.3s ease !important;
        text-decoration: none !important;
        display: inline-flex !important;
        align-items: center !important;
        gap: 0.5rem !important;
    }

    .hero.gallery-hero .btn.btn-primary {
        background: linear-gradient(135deg, #A3BFFA, #7c9df7) !important;
        color: white !important;
    }

    .hero.gallery-hero .btn.btn-secondary {
        background: transparent !important;
        color: white !important;
        border-color: rgba(255, 255, 255, 0.5) !important;
        backdrop-filter: blur(10px) !important;
    }

    /* Badge del hero */
    .hero.gallery-hero .hero-badge {
        display: inline-flex !important;
        align-items: center !important;
        gap: 0.4rem !important;
        background: rgba(163, 191, 250, 0.2) !important;
        backdrop-filter: blur(20px) !important;
        border: 1px solid rgba(163, 191, 250, 0.3) !important;
        padding: 0.5rem 1rem !important;
        border-radius: 9999px !important;
        font-size: 0.8rem !important;
        font-weight: 600 !important;
        margin-bottom: 1rem !important;
        color: #A3BFFA !important;
    }
}

/* ===== CORRECCIONES PARA SECCIONES ===== */
@media screen and (max-width: 414px) {
    .container {
        padding: 0 1rem !important;
        max-width: 100% !important;
        margin: 0 !important;
        width: 100% !important;
    }

    /* Grids responsive */
    .education-grid,
    .services-grid-professional,
    .process-flow,
    .awards-grid,
    .testimonials-grid,
    .values-grid,
    .team-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
        padding: 0 !important;
    }

    /* Tarjetas responsive */
    .education-card,
    .service-card-professional,
    .process-step .step-content,
    .award-item,
    .testimonial-item,
    .value-item,
    .team-member {
        margin-bottom: 1rem !important;
        padding: 1.5rem !important;
        border-radius: 1rem !important;
    }

    /* Filosofía section */
    .philosophy-content {
        grid-template-columns: 1fr !important;
        gap: 2rem !important;
        padding: 0 !important;
    }

    /* Timeline responsive */
    .timeline-professional {
        padding: 0 !important;
    }

    .timeline-item-professional {
        padding-left: 2rem !important;
        margin-bottom: 2rem !important;
    }

    .timeline-marker {
        left: 0 !important;
        width: 25px !important;
        height: 25px !important;
    }

    .timeline-item-professional.current .timeline-marker {
        left: -2.5px !important;
        width: 30px !important;
        height: 30px !important;
    }

    .timeline-professional::before {
        left: 12px !important;
    }
}

/* ===== CORRECCIONES PARA FORMULARIOS ===== */
@media screen and (max-width: 414px) {
    .contact-content {
        grid-template-columns: 1fr !important;
        gap: 2rem !important;
        padding: 0 !important;
    }

    .form-row {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
        padding: 0.875rem !important;
        font-size: 16px !important; /* Evita zoom en iOS */
        border-radius: 0.5rem !important;
    }

    .btn {
        width: 100% !important;
        padding: 1rem !important;
        font-size: 1rem !important;
    }
}

/* ===== CORRECCIONES PARA GALERÍA ===== */
@media screen and (max-width: 414px) {
    .gallery-grid {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
        padding: 0 !important;
    }

    .gallery-card {
        border-radius: 1rem !important;
    }

    .modal-content {
        max-width: 95vw !important;
        max-height: 90vh !important;
        margin: 2.5vh auto !important;
    }

    .modal-image-container img {
        max-height: 60vh !important;
    }
}

/* ===== CORRECCIONES PARA FOOTER ===== */
@media screen and (max-width: 414px) {
    .footer {
        padding-bottom: 80px !important; /* Espacio para footer fijo */
    }

    /* Footer fijo responsive */
    div[style*="position: fixed"][style*="bottom: 0"] {
        padding: 0.5rem 0.75rem !important;
        font-size: 0.7rem !important;
    }

    div[style*="position: fixed"] > div {
        flex-direction: column !important;
        gap: 0.5rem !important;
        align-items: center !important;
    }

    div[style*="position: fixed"] div[style*="display: flex"] {
        flex-wrap: wrap !important;
        justify-content: center !important;
        gap: 0.75rem !important;
    }
}

/* ===== CORRECCIONES PARA MENÚ MÓVIL ===== */
@media screen and (max-width: 414px) {
    .nav-overlay {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        background: rgba(0, 0, 0, 0.5) !important;
        z-index: 999 !important;
        opacity: 0 !important;
        visibility: hidden !important;
        transition: all 0.3s ease !important;
    }

    .nav-overlay.active {
        opacity: 1 !important;
        visibility: visible !important;
    }

    /* Menú deslizante */
    .nav-menu {
        position: fixed !important;
        top: 0 !important;
        right: -100% !important;
        width: 280px !important;
        height: 100vh !important;
        background: rgba(255, 255, 255, 0.98) !important;
        backdrop-filter: blur(20px) !important;
        padding: 80px 1.5rem 2rem !important;
        z-index: 1000 !important;
        transition: right 0.4s ease !important;
        overflow-y: auto !important;
        display: flex !important;
        flex-direction: column !important;
        gap: 0 !important;
    }

    .nav-menu.active {
        right: 0 !important;
    }

    .nav-menu li {
        width: 100% !important;
        margin-bottom: 0.5rem !important;
    }

    .nav-link {
        display: block !important;
        width: 100% !important;
        padding: 1rem 1.25rem !important;
        font-size: 1rem !important;
        font-weight: 600 !important;
        border-radius: 0.75rem !important;
        transition: all 0.3s ease !important;
        text-align: left !important;
    }

    .nav-link:hover,
    .nav-link.active {
        background: linear-gradient(135deg, #A3BFFA, #7c9df7) !important;
        color: white !important;
        transform: translateX(5px) !important;
    }

    /* Animación hamburger */
    .hamburger.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px) !important;
    }

    .hamburger.active span:nth-child(2) {
        opacity: 0 !important;
    }

    .hamburger.active span:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px) !important;
    }

    /* Prevenir scroll cuando menú está abierto */
    body.nav-open {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
    }
}

/* ===== CORRECCIONES ESPECÍFICAS PARA SAFARI MÓVIL ===== */
@supports (-webkit-touch-callout: none) {
    .hero.gallery-hero {
        min-height: -webkit-fill-available !important;
    }

    .nav-menu {
        height: -webkit-fill-available !important;
    }
}

/* ===== CORRECCIONES PARA LANDSCAPE EN MÓVILES ===== */
@media screen and (max-width: 414px) and (orientation: landscape) {
    .hero.gallery-hero {
        min-height: 100vh !important;
        padding: 60px 0 1rem 0 !important;
    }

    .hero.gallery-hero .hero-content {
        flex-direction: row !important;
        align-items: center !important;
        gap: 1rem !important;
    }

    .hero.gallery-hero .hero-text {
        order: 1 !important;
        flex: 1 !important;
    }

    .hero.gallery-hero .hero-image {
        order: 2 !important;
        flex: 0 0 auto !important;
    }

    .hero.gallery-hero .image-placeholder {
        width: 200px !important;
        height: 220px !important;
    }

    .hero.gallery-hero .architect-image {
        width: 180px !important;
        height: 200px !important;
    }
}

/* ===== CORRECCIONES PARA OTROS DISPOSITIVOS MÓVILES ===== */
@media screen and (max-width: 375px) {
    /* iPhone X, XS, 11 Pro */
    .logo-text h2 {
        font-size: 0.8rem !important;
    }

    .logo-text span {
        font-size: 0.5rem !important;
    }

    .hero.gallery-hero .image-placeholder {
        width: 220px !important;
        height: 250px !important;
    }

    .hero.gallery-hero .architect-image {
        width: 200px !important;
        height: 230px !important;
    }
}

@media screen and (max-width: 360px) {
    /* Dispositivos Android pequeños */
    .nav-container {
        padding: 0 0.75rem !important;
    }

    .logo-text h2 {
        font-size: 0.75rem !important;
    }

    .logo-text span {
        font-size: 0.45rem !important;
    }

    .hero.gallery-hero .image-placeholder {
        width: 200px !important;
        height: 230px !important;
    }

    .hero.gallery-hero .architect-image {
        width: 180px !important;
        height: 210px !important;
    }
}

/* ===== OPTIMIZACIONES DE RENDIMIENTO PARA MÓVILES ===== */
@media screen and (max-width: 414px) {
    * {
        -webkit-tap-highlight-color: transparent !important;
    }

    img {
        -webkit-user-select: none !important;
        -webkit-touch-callout: none !important;
    }

    .hero.gallery-hero .hero-content,
    .nav-menu,
    .hamburger {
        will-change: transform !important;
    }

    /* Reducir animaciones en móviles para mejor rendimiento */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }
}

/* ===== CORRECCIONES PARA ZOOM Y ACCESIBILIDAD ===== */
@media screen and (max-width: 414px) {
    /* Evitar zoom automático en inputs en iOS */
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="password"],
    textarea,
    select {
        font-size: 16px !important;
    }

    /* Mejorar área de toque */
    .hamburger,
    .nav-link,
    .btn,
    .social-link {
        min-height: 44px !important;
        min-width: 44px !important;
    }

    /* Mejorar contraste para legibilidad */
    .hero.gallery-hero .hero-text h1,
    .hero.gallery-hero .hero-subtitle-main {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7) !important;
    }
}

/* ===== CORRECCIONES PARA NOTCH EN IPHONE X+ ===== */
@supports (padding: max(0px)) {
    @media screen and (max-width: 414px) {
        .header {
            padding-top: env(safe-area-inset-top) !important;
        }

        .nav-menu {
            padding-top: calc(80px + env(safe-area-inset-top)) !important;
        }

        .hero,
        .gallery-hero,
        .main-gallery,
        .contact,
        .team {
            padding-top: calc(80px + env(safe-area-inset-top)) !important;
        }
    }
}